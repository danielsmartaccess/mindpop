(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();const f={en:{dashboard:"Dashboard",planners:"Planners",todo:"To-Do",finance:"Finance",mood:"Mood",ai_assistant:"AI Assistant",free_plan:"Free Plan",upgrade_btn:"Upgrade to PRO",welcome_title:"Hello, Mind Popper! ",welcome_subtitle:"Let's organize your thoughts and your day.",tasks_today:"Tasks Today",tasks_stat:"2 pending, 3 completed",balance:"Balance",balance_stat:"+R$ 200 this week",mood_happy:" Happy",daily:"Daily",weekly:"Weekly",monthly:"Monthly",annual:"Annual",schedule:"Schedule",morning_routine:"Morning Routine",work_study:"Work / Study",lunch:"Lunch",daily_journal:"Daily Journal",journal_subtitle:"Thoughts, gratitude, or just a brain dump.",journal_placeholder:"Today I felt...",save_entry:"Save Entry",weekly_hint:"Click on a day to add a note",sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",add_task_placeholder:"Add a new task...",total_balance:"Total Balance",add_transaction:"Add Transaction",mood_question:"How are you feeling today?",ai_welcome:"Hello! I'm your Mind Pop AI. How can I help you organize your life today?",ai_placeholder:"Ask me anything..."},pt:{dashboard:"Painel",planners:"Planejadores",todo:"Tarefas",finance:"Finan莽as",mood:"Humor",ai_assistant:"Assistente IA",free_plan:"Plano Gr谩tis",upgrade_btn:"Mudar para PRO",welcome_title:"Ol谩, Mind Popper! ",welcome_subtitle:"Vamos organizar seus pensamentos e seu dia.",tasks_today:"Tarefas Hoje",tasks_stat:"2 pendentes, 3 conclu铆das",balance:"Saldo",balance_stat:"+R$ 200 esta semana",mood_happy:" Feliz",daily:"Di谩rio",weekly:"Semanal",monthly:"Mensal",annual:"Anual",schedule:"Agenda",morning_routine:"Rotina Matinal",work_study:"Trabalho / Estudo",lunch:"Almo莽o",daily_journal:"Di谩rio Pessoal",journal_subtitle:"Pensamentos, gratid茫o ou apenas um desabafo.",journal_placeholder:"Hoje eu senti...",save_entry:"Salvar",weekly_hint:"Clique em um dia para adicionar uma nota",sun:"Dom",mon:"Seg",tue:"Ter",wed:"Qua",thu:"Qui",fri:"Sex",sat:"S谩b",add_task_placeholder:"Adicionar nova tarefa...",total_balance:"Saldo Total",add_transaction:"Adicionar Transa莽茫o",mood_question:"Como voc锚 est谩 se sentindo hoje?",ai_welcome:"Ol谩! Sou sua IA Mind Pop. Como posso ajudar a organizar sua vida hoje?",ai_placeholder:"Pergunte-me qualquer coisa..."},es:{dashboard:"Tablero",planners:"Planificadores",todo:"Tareas",finance:"Finanzas",mood:"nimo",ai_assistant:"Asistente IA",free_plan:"Plan Gratis",upgrade_btn:"Mejorar a PRO",welcome_title:"隆Hola, Mind Popper! ",welcome_subtitle:"Organicemos tus pensamientos y tu d铆a.",tasks_today:"Tareas Hoy",tasks_stat:"2 pendientes, 3 completadas",balance:"Balance",balance_stat:"+R$ 200 esta semana",mood_happy:" Feliz",daily:"Diario",weekly:"Semanal",monthly:"Mensual",annual:"Anual",schedule:"Horario",morning_routine:"Rutina Matutina",work_study:"Trabajo / Estudio",lunch:"Almuerzo",daily_journal:"Diario Personal",journal_subtitle:"Pensamientos, gratitud o simplemente desahogo.",journal_placeholder:"Hoy me sent铆...",save_entry:"Guardar",weekly_hint:"Haz clic en un d铆a para agregar una nota",sun:"Dom",mon:"Lun",tue:"Mar",wed:"Mi茅",thu:"Jue",fri:"Vie",sat:"S谩b",add_task_placeholder:"A帽adir nueva tarea...",total_balance:"Balance Total",add_transaction:"A帽adir Transacci贸n",mood_question:"驴C贸mo te sientes hoy?",ai_welcome:"隆Hola! Soy tu IA Mind Pop. 驴C贸mo puedo ayudarte a organizar tu vida hoy?",ai_placeholder:"Preg煤ntame lo que sea..."},fr:{dashboard:"Tableau de bord",planners:"Planificateurs",todo:" faire",finance:"Finance",mood:"Humeur",ai_assistant:"Assistant IA",free_plan:"Plan Gratuit",upgrade_btn:"Passer  PRO",welcome_title:"Bonjour, Mind Popper! ",welcome_subtitle:"Organisons vos pens茅es et votre journ茅e.",tasks_today:"T芒ches d'aujourd'hui",tasks_stat:"2 en attente, 3 termin茅es",balance:"Solde",balance_stat:"+R$ 200 cette semaine",mood_happy:" Heureux",daily:"Quotidien",weekly:"Hebdomadaire",monthly:"Mensuel",annual:"Annuel",schedule:"Emploi du temps",morning_routine:"Routine matinale",work_study:"Travail / tude",lunch:"D茅jeuner",daily_journal:"Journal intime",journal_subtitle:"Pens茅es, gratitude ou simplement un d茅versoir.",journal_placeholder:"Aujourd'hui, je me suis senti...",save_entry:"Enregistrer",weekly_hint:"Cliquez sur un jour pour ajouter une note",sun:"Dim",mon:"Lun",tue:"Mar",wed:"Mer",thu:"Jeu",fri:"Ven",sat:"Sam",add_task_placeholder:"Ajouter une nouvelle t芒che...",total_balance:"Solde Total",add_transaction:"Ajouter Transaction",mood_question:"Comment vous sentez-vous aujourd'hui?",ai_welcome:"Bonjour! Je suis votre IA Mind Pop. Comment puis-je vous aider  organiser votre vie aujourd'hui?",ai_placeholder:"Demandez-moi n'importe quoi..."},he:{dashboard:" 拽专",planners:"",todo:"砖转",finance:"住驻",mood:"爪 专",ai_assistant:"注专转 砖转",free_plan:"转转 ",upgrade_btn:"砖专 -PRO",welcome_title:"砖, Mind Popper! ",welcome_subtitle:" 专 转 砖转 转  砖.",tasks_today:"砖转 ",tasks_stat:"2 转转, 3 砖",balance:"转专",balance_stat:"+R$ 200 砖注",mood_happy:" 砖",daily:"",weekly:"砖注",monthly:"砖",annual:"砖转",schedule:" ",morning_routine:"砖专转 拽专",work_study:"注 / ",lunch:"专转 爪专",daily_journal:" 砖",journal_subtitle:"砖转, 专转 转  住转 驻专拽转 .",journal_placeholder:" 专砖转...",save_entry:"砖专 专砖",weekly_hint:"抓 注   住祝 注专",sun:"壮",mon:"壮",tue:"壮",wed:"壮",thu:"壮",fri:"壮",sat:"砖壮",add_task_placeholder:"住祝 砖 砖...",total_balance:"转专 转",add_transaction:"住祝 注住拽",mood_question:" 转 专砖 ?",ai_welcome:"砖!  -AI 砖 Mind Pop.    注专  专 转  ?",ai_placeholder:"砖 转  专..."}},x=document.querySelectorAll(".lang-btn");let I="en";function R(e){I=e,e==="he"?(document.documentElement.setAttribute("dir","rtl"),document.documentElement.lang="he"):(document.documentElement.setAttribute("dir","ltr"),document.documentElement.lang=e),x.forEach(t=>{t.classList.toggle("active",t.getAttribute("data-lang")===e)}),document.querySelectorAll("[data-i18n]").forEach(t=>{const n=t.getAttribute("data-i18n");f[e][n]&&(t.textContent=f[e][n])}),document.querySelectorAll("[data-i18n-placeholder]").forEach(t=>{const n=t.getAttribute("data-i18n-placeholder");f[e][n]&&(t.placeholder=f[e][n])})}x.forEach(e=>{e.addEventListener("click",()=>{R(e.getAttribute("data-lang"))})});const C=document.querySelectorAll(".nav-links li"),J=document.querySelectorAll(".view"),P=document.getElementById("page-title");C.forEach(e=>{e.addEventListener("click",()=>{C.forEach(a=>a.classList.remove("active")),e.classList.add("active"),J.forEach(a=>a.classList.remove("active"));const t=e.getAttribute("data-target");document.getElementById(`view-${t}`).classList.add("active");const n=e.querySelector("span").getAttribute("data-i18n");n&&f[I][n]?P.textContent=f[I][n]:P.textContent=e.querySelector("span").textContent})});const H=document.querySelectorAll(".tab-btn"),G=document.querySelectorAll(".planner-section");H.forEach(e=>{e.addEventListener("click",()=>{H.forEach(n=>n.classList.remove("active")),e.classList.add("active"),G.forEach(n=>n.classList.remove("active"));const t=e.getAttribute("data-planner");document.getElementById(`planner-${t}`).classList.add("active")})});const y={};let W=1;const b=document.getElementById("planner-modal"),Q=document.querySelector(".close-modal"),V=document.getElementById("modal-title"),h=document.getElementById("modal-input-1"),k=document.getElementById("modal-input-time"),U=document.getElementById("modal-input-desc"),Y=document.getElementById("modal-save-btn"),q=document.getElementById("modal-existing-list");let c=null,L=null,_=!1,E=null;function u(e,t,n=!1,a=null,o=!1,l=null){if(c=e,L=a,_=o,E=l,V.textContent=_?"Edit Item":t,b.style.display="flex",k.style.display=n?"block":"none",q.innerHTML="",_&&l?e==="daily"?(h.value=l.querySelector(".event").textContent,k.value=l.querySelector(".time").textContent):e==="weekly"||e==="annual"?h.value=l.querySelector("span").textContent:e==="monthly"&&(h.value=l.title):(h.value="",U.value="",k.value=""),e==="monthly"&&!_){const d=a,v=y[d]||[];v.length>0&&v.forEach(m=>{const s=document.createElement("li");s.className="modal-event-item",s.innerHTML=`
          <span>${m.title}</span>
          <div class="actions">
            <button class="icon-btn-small edit-ev"><i class="fa-solid fa-pen"></i></button>
            <button class="icon-btn-small delete-ev"><i class="fa-solid fa-trash"></i></button>
          </div>
        `,s.querySelector(".edit-ev").addEventListener("click",()=>{u("monthly","Edit Event",!1,d,!0,m)}),s.querySelector(".delete-ev").addEventListener("click",()=>{if(confirm("Delete this event?")){const i=y[d].indexOf(m);i>-1&&y[d].splice(i,1),g(r),u("monthly",t,!1,a)}}),q.appendChild(s)})}h.focus()}Q.addEventListener("click",()=>{b.style.display="none"});window.addEventListener("click",e=>{e.target===b&&(b.style.display="none")});Y.addEventListener("click",()=>{const e=h.value.trim(),t=k.value;e&&(_?c==="daily"?(E.querySelector(".event").textContent=e,E.querySelector(".time").textContent=t||"--:--"):c==="weekly"||c==="annual"?E.querySelector("span").textContent=e:c==="monthly"&&(E.title=e,g(r)):c==="daily"?X(e,t):c==="weekly"?te(e,L):c==="monthly"?le(e,L):c==="annual"&&de(e,L),b.style.display="none")});function B(e,t){const n=document.createElement("div");n.className="item-actions";const a=document.createElement("button");a.innerHTML='<i class="fa-solid fa-pen"></i>',a.className="action-btn edit",a.addEventListener("click",l=>{l.stopPropagation(),e()});const o=document.createElement("button");return o.innerHTML='<i class="fa-solid fa-trash"></i>',o.className="action-btn delete",o.addEventListener("click",l=>{l.stopPropagation(),confirm("Delete this item?")&&t()}),n.appendChild(a),n.appendChild(o),n}const K=document.getElementById("daily-schedule-list");document.getElementById("add-daily-btn").addEventListener("click",()=>{u("daily","Add Schedule Item",!0)});function X(e,t){const n=document.createElement("li");n.innerHTML=`<span class="time">${t||"--:--"}</span> <span class="event">${e}</span>`;const a=B(()=>u("daily","Edit Item",!0,null,!0,n),()=>n.remove());n.appendChild(a),K.appendChild(n)}const Z=document.getElementById("weekly-grid"),ee=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];ee.forEach((e,t)=>{const n=document.createElement("div");n.className="day-col",n.innerHTML=`<h4>${e}</h4><div class="day-content" id="week-col-${t}"></div>`,n.addEventListener("click",a=>{(a.target===n||a.target.tagName==="H4"||a.target.classList.contains("day-content"))&&u("weekly",`Add to ${e}`,!1,t)}),Z.appendChild(n)});function te(e,t){const n=document.getElementById(`week-col-${t}`),a=document.createElement("div");a.className="planner-item",a.innerHTML=`<span>${e}</span>`;const o=B(()=>u("weekly","Edit Item",!1,null,!0,a),()=>a.remove());a.appendChild(o),n.appendChild(a)}const w=document.getElementById("calendar-grid"),ne=document.getElementById("current-month"),ae=document.getElementById("prev-month"),oe=document.getElementById("next-month");let r=new Date;function g(e){w.innerHTML="";const t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,1),l=new Date(t,n+1,0).getDate(),d=a.getDay(),v=["January","February","March","April","May","June","July","August","September","October","November","December"];ne.textContent=`${v[n]} ${t}`;for(let s=0;s<d;s++){const i=document.createElement("div");i.className="calendar-day empty",w.appendChild(i)}const m=new Date;for(let s=1;s<=l;s++){const i=document.createElement("div");i.className="calendar-day",s===m.getDate()&&n===m.getMonth()&&t===m.getFullYear()&&i.classList.add("today");const S=`${t}-${n}-${s}`,z=y[S]||[];let j="";z.forEach(F=>{j+=`<div class="event-dot" title="${F.title}"></div>`}),i.innerHTML=`<span class="date-num">${s}</span><div class="day-events">${j}</div>`,i.addEventListener("click",()=>{u("monthly",`Events for ${s} ${v[n]}`,!1,S)}),w.appendChild(i)}}g(r);ae.addEventListener("click",()=>{r.setMonth(r.getMonth()-1),g(r)});oe.addEventListener("click",()=>{r.setMonth(r.getMonth()+1),g(r)});function le(e,t){y[t]||(y[t]=[]),y[t].push({id:W++,title:e}),g(r)}const se=document.getElementById("annual-grid"),ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];ie.forEach((e,t)=>{const n=document.createElement("div");n.className="mini-month",n.innerHTML=`<h4>${e}</h4><ul class="annual-list" id="annual-month-${t}"></ul>`,n.addEventListener("click",a=>{(a.target===n||a.target.tagName==="H4"||a.target.classList.contains("annual-list"))&&u("annual",`Goal for ${e}`,!1,t)}),se.appendChild(n)});function de(e,t){const n=document.getElementById(`annual-month-${t}`),a=document.createElement("li");a.innerHTML=`<span>${e}</span>`;const o=B(()=>u("annual","Edit Goal",!1,null,!0,a),()=>a.remove());a.appendChild(o),n.appendChild(a)}const A=document.getElementById("new-task-input"),re=document.getElementById("add-task-btn"),ce=document.getElementById("task-list");function N(){const e=A.value.trim();if(e){const t=document.createElement("li");t.className="task-item",t.innerHTML=`
      <input type="checkbox">
      <span>${e}</span>
      <button class="icon-btn" style="margin-left: auto; color: var(--danger-color); border: none;"><i class="fa-solid fa-trash"></i></button>
    `,t.querySelector("button").addEventListener("click",()=>t.remove()),t.querySelector("input").addEventListener("change",n=>{n.target.checked?(t.classList.add("completed"),t.style.transition="all 0.5s ease",t.style.opacity="0",t.style.transform="translateX(50px)",setTimeout(()=>t.remove(),500)):t.classList.remove("completed")}),ce.appendChild(t),A.value=""}}re.addEventListener("click",N);A.addEventListener("keypress",e=>{e.key==="Enter"&&N()});document.getElementById("save-journal").addEventListener("click",()=>{document.getElementById("daily-journal").value&&(alert("Journal saved!"),document.getElementById("daily-journal").value="")});const D=document.querySelectorAll(".mood-btn"),$=document.querySelector(".mood-display");D.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-mood");D.forEach(n=>n.style.transform="scale(1)"),e.style.transform="scale(1.2)",$&&($.textContent=ue(t)+" "+me(t))})});function ue(e){return{rad:"ぉ",happy:"",neutral:"",sad:"",awful:""}[e]||""}function me(e){return e.charAt(0).toUpperCase()+e.slice(1)}const T=document.getElementById("ai-input"),ye=document.getElementById("send-ai-btn"),p=document.getElementById("chat-messages");function O(){const e=T.value.trim();if(e){const t=document.createElement("div");t.className="message user",t.innerHTML=`<div class="bubble">${e}</div>`,p.appendChild(t),T.value="",p.scrollTop=p.scrollHeight,setTimeout(()=>{const n=document.createElement("div");n.className="message bot",n.innerHTML=`<div class="bubble">Thinking about "${e}"...</div>`,p.appendChild(n),p.scrollTop=p.scrollHeight},1e3)}}ye.addEventListener("click",O);T.addEventListener("keypress",e=>{e.key==="Enter"&&O()});const M=document.getElementById("premium-modal"),pe=document.getElementById("upgrade-btn"),he=document.getElementById("close-premium");pe.addEventListener("click",()=>{M.style.display="flex"});he.addEventListener("click",()=>{M.style.display="none"});window.addEventListener("click",e=>{e.target===M&&(M.style.display="none")});
